"use strict";"format global";"deps angular";angular.module("hyenaAngular",[]),angular.module("hyenaAngular",[]).directive("bindPolymer",function(){return{restrict:"A",link:function(a,b,c){function d(c){a.$watch(function(){return b.attr(c)},function(b){for(var d=e[c].split(/\./),f=a,g=0;g<d.length-1;g++)"undefined"==typeof f[d[g]]&&(f[d[g]]={}),f=f[d[g]];f[d[d.length-1]]=b})}var e={};for(var f in c.$attr)if("bindPolymer"!=f){var g=c.$attr[f],h=b.attr(g).match(/\{\{\s*([\.\w]+)\s*\}\}/);h&&(e[g]=h[1])}new MutationObserver(function(){a.$apply()}).observe(b[0],{attributes:!0});for(var g in e)d(g)}}}),angular.module("hyenaAngular",[]).value("FieldTypes",{text:["Text","should be text"],email:["Email","should be an email address"],number:["Number","should be a number"],date:["Date","should be a date"],datetime:["Datetime","should be a datetime"],time:["Time","should be a time"],month:["Month","should be a month"],week:["Week","should be a week"],url:["URL","should be a URL"],tel:["Phone Number","should be a phone number"],color:["Color","should be a color"]}).directive("selfValidation",function(a){return{templateUrl:"views/partials/self-validation-input.html",restrict:"EA",replace:!0,scope:{model:"=",field:"@",type:"@",required:"@",placeholder:"@"},link:function(b){b.types=a}}}),angular.module("hyenaAngular",[]).directive("user",function(a){return{restrict:"A",scope:{userValue:"=userModel"},link:function(b){b.userValue;b.$watch("userValue",function(c){angular.isDefined(c)&&!angular.isObject(c)&&a.get(c).then(function(a){b.userValue=a.data})})}}}),angular.module("hyenaAngular").factory("AppFirebase",function(a,b,c){var d=new Firebase(a),e={getRef:function(){return d},getAuthRef:function(){return c(d)},authenticate:function(a){var b=c(d);return b.$authWithCustomToken(a)}};return e}),angular.module("hyenaAngular",[]).filter("uni_year",function(){return function(a){switch(a){case"FR":return"Freshman";case"SO":return"Sophomore";case"JR":return"Junior";case"SR":return"Senior";case"GR":return"Graduate";default:return"N/A"}}}).filter("toArray",function(){return function(a){return a instanceof Object?Object.keys(a).map(function(b){return Object.defineProperty(a[b],"$key",{enumerable:!1,value:b})}):a}}),angular.module("hyenaAngular").service("AuthService",function(a,b,c,d,e,f,g){var h=g.getRef(),i={login:function(){b.currentRoute=window.location.href,window.location.replace(f+"users/login?api_key="+e+"&callback="+window.location.href)},manualLogin:function(a,b,c){angular.isUndefined(c)&&(c="");var e=d.get(a,c);return e.then(function(){return i.createAuthSession(a,b)?i.user(c):!1})},logout:function(){i.expire(),window.location.replace(f+"users/logout?api_key="+e)},createAuthSession:function(a,b){return c.auth=!0,c.authUser=a,c.authToken=b,!0},user:function(a){angular.isUndefined(a)&&(a="");var b=i.userId();return d.get(b,a)},userId:function(){return c.auth?c.authUser:!1},authToken:function(){return c.authToken},check:function(){return!!c.auth},expire:function(){angular.isDefined(h)&&h.unauth(),delete c.auth,delete c.authUser,delete c.authToken}};return i}),angular.module("hyenaAngular").factory("AuthInterceptor",function(a,b,c){return{responseError:function(d){return a.$broadcast({401:c.notAuthenticated,403:c.notAuthorized,419:c.sessionTimeout,440:c.sessionTimeout}[d.status],d),b.reject(d)}}}),angular.module("hyenaAngular").service("Notification",function(){var a={show:function(a,b){var c=document.querySelector("unl-toast");c.setAttribute("text",a),c.setAttribute("type",b),c.show()},showModal:function(a,b){var c=document.querySelector("#unl-modal"),d=document.querySelector(b);c.setAttribute("heading",a),c.contents=d,c.show()},hideModal:function(){var a=document.querySelector("#unl-modal");a.close()},setModalContent:function(a){var b=document.querySelector("#unl-modal"),c=document.querySelector(a);b.contents=c}};return a}),angular.module("hyenaAngular").service("UserService",function(a,b,c,d){return{get:function(d,e){return angular.isUndefined(e)&&(e=""),c.get(a+"users/"+d+"?with="+e+"&api_key="+b)},validate:function(d){return c.post(a+"users/validate?api_key="+b,{ids:[d]})},getUserRelations:function(e,f){if(angular.isUndefined(e))return!1;f=f||"user",e=d(e);for(var g=[],h="",i=0;i<e.length;i++)g.push(e[i][f]),h+=e[i][f]+",";h=h.substring(0,h.length-1);var j=c.get(a+"users?ids="+h+"&api_key="+b);return j.then(function(a){for(var b=0;b<a.data.length;b++)e[b][f]=a.data[b]}),e}}});